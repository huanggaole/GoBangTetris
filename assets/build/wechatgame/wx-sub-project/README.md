# 五子棋俄罗斯方块 - 微信小游戏开放数据域

这是五子棋俄罗斯方块游戏的微信小游戏开放数据域（子域）项目，用于显示好友排行榜。

## 功能特点

- 🏆 好友排行榜显示
- 📊 分数和关卡双重排序
- 🎨 精美的UI设计
- 👑 前三名特殊奖杯显示
- 📱 适配横屏游戏

## 文件说明

- `index.js` - 主要逻辑文件，处理排行榜数据和消息通信
- `style.js` - 样式配置文件，定义UI外观
- `engine.js` - 布局引擎（Cocos Creator自动生成）
- `game.json` - 子域配置文件
- `*.png` - 奖杯图标资源

## 支持的消息事件

### 从主域接收的消息

- `showRank` - 显示排行榜
- `hideRank` - 隐藏排行榜
- `updateRank` - 更新排行榜数据
- `level` - 兼容原有的关卡事件

### 数据格式

排行榜使用以下数据键：
- `score` - 玩家分数（主要排序依据）
- `level` - 玩家关卡（次要排序依据）

## 使用方法

1. 确保主域已正确配置开放数据域
2. 主域通过 `postMessage` 发送消息到子域
3. 子域自动处理排行榜显示和数据更新

## 样式特色

- 半透明黑色背景，不遮挡游戏画面
- 金色游戏标题
- 绿色分数显示，突出重要信息
- 天蓝色关卡显示
- 前三名特殊奖杯图标
- 玩家头像圆角边框

## 注意事项

- 只显示有分数记录的好友
- 按分数降序排列，分数相同时按关卡排列
- 支持空数据和错误状态的友好提示
